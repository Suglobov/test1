<script src="https://cloud.tinymce.com/stable/tinymce.min.js"></script>
<script>
    tinymce.init({
        selector: "textarea",
        setup: function (editor) {
            editor.on('change', function () {
                tinymce.triggerSave();
            });
        }
    });
    window.addEventListener('load', function () {
        let time = setInterval(function () {
            let tinymceWarning = document.getElementById('mceu_31');
            if (tinymceWarning) {
                clearTimeout(time);
                tinymceWarning.style.display = 'none';
            }
        }, 100);
        let newNews = document.getElementById('new');
        let textarea = document.getElementById('textarea');
        let warningTextarea = document.getElementById('warningTextarea');
        newNews.addEventListener('submit', function (event) {
            if (textarea.value.length === 0) {
                warningTextarea.classList.remove('uk-hidden');
                event.preventDefault();
                return false;
            } else {
                warningTextarea.classList.add('uk-hidden');
            }
        });
    })
</script>
<nav class="uk-navbar-container" uk-navbar>
    <form method="post">
        <a href="/" class="uk-button uk-button-default" name="exit" value="true">
            На главную
        </a>
        <button class="uk-button uk-button-danger" name="exit" value="true">
            EXIT
        </button>
    </form>
</nav>
<div class="alertSuccess uk-alert uk-alert-success uk-hidden"></div>
<div class="alert uk-alert uk-alert-warning uk-hidden"></div>
<div class="uk-margin">
    <a href="#add-new" class="uk-icon-link uk-icon-button"
       uk-icon="icon: plus-circle; ratio: 2"
       uk-toggle="target: #add-new"
       uk-scroll></a>
</div>
<div id="add-new" hidden class="uk-card uk-card-body uk-card-default">
    <div class="uk-alert uk-hidden uk-alert-warning" id="warningTextarea">
        Поле ввода не должно быть пустым
    </div>
    <form id="new" method="post" enctype="multipart/form-data">
        <div class="uk-margin">
            <input
                    class="uk-input uk-form-large"
                    type="text"
                    placeholder="Заголовок"
                    required
                    name="title">
        </div>
        <div class="uk-margin">
            <textarea id="textarea" name="textarea"></textarea>
        </div>
        <div class="uk-margin">
            <div uk-form-custom="target: true">
                <input
                        type="file"
                        name="file"
                        accept="image/jpeg,image/png,image/gif">
                <input
                        class="uk-input uk-form-width-medium"
                        type="text"
                        placeholder="Выберете файл картинки"
                        disabled>
            </div>
        </div>
        <div class="uk-margin">
            <button class="uk-button uk-button-primary">Сохранить</button>
            <input
                    type="reset"
                    class="uk-button uk-button-default"
                    value="Сбросить">
        </div>
    </form>

</div>
